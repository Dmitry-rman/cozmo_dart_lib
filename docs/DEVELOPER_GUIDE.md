# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ cozmo_dart_lib

## üìã –û–±–∑–æ—Ä

`cozmo_dart_lib` - —ç—Ç–æ Dart –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º Cozmo —á–µ—Ä–µ–∑ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Ä–æ–±–æ—Ç–æ–º, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–µ–º, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å AI —Å–µ—Ä–≤–∏—Å–∞–º–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cozmo_dart_lib/
‚îú‚îÄ‚îÄ lib/                           # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ cozmo_dart_lib.dart      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —ç–∫—Å–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ src/                     # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_robot.dart     # –û—Å–Ω–æ–≤–Ω–æ–π API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_client.dart     # –°–µ—Ç–µ–≤–æ–π –∫–ª–∏–µ–Ω—Ç (UDP)
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_audio.dart     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_anim_controller.dart # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_head.dart      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–π
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_drive.dart     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–µ–º
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_lift.dart      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—ä–µ–º–Ω–∏–∫–æ–º
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_face.dart      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –ª–∏—Ü–∞
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_image.dart     # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_simple_image.dart # –ü—Ä–æ—Å—Ç—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_image_encoder.dart # –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ cozmo_utils.dart     # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ realtime_ai.dart     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI WebRTC
‚îÇ       ‚îú‚îÄ‚îÄ realtime_ai_websocket.dart # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI WebSocket
‚îÇ       ‚îî‚îÄ‚îÄ ai_config.dart      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI
‚îú‚îÄ‚îÄ docs/                         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ DEVELOPER_GUIDE.md    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ COZMO_DART_README.md  # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
‚îÇ   ‚îú‚îÄ‚îÄ PRACTICAL_IMPLEMENTATION_GUIDE.md # –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ ...                   # –î—Ä—É–≥–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
‚îî‚îÄ‚îÄ pubspec.yaml                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Flutter –ø—Ä–æ–µ–∫—Ç

–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ `pubspec.yaml`:

```yaml
dependencies:
  cozmo_dart_lib:
    path: ./cozmo_dart_lib
```

### 2. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```dart
import 'package:cozmo_dart_lib/cozmo_dart_lib.dart';

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ–±–æ—Ç—É
final robot = CozmoRobot.instance;
final error = await robot.connect();
if (error != null) {
  print('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: $error');
  return;
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–π
await robot.head.setAngle(0.0); // –ü—Ä—è–º–æ
await robot.head.setAngle(0.5);  // –í–≤–µ—Ä—Ö

// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ
await robot.playAudio('/path/to/audio.wav');

// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
await robot.disconnect();
```

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

### CozmoRobot

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** [`lib/src/cozmo_robot.dart`](lib/src/cozmo_robot.dart:14)

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `connect()` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ–±–æ—Ç—É
- `disconnect()` - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
- `setVolume(int volume)` - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- `playAudio(String path)` - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ
- `playAnimation(CozmoAnimation anim)` - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- `displayImage(CozmoSimpleImage image)` - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### CozmoClient

–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Å–µ—Ç–µ–≤–æ–π –∫–ª–∏–µ–Ω—Ç. –†–µ–∞–ª–∏–∑—É–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π UDP –ø—Ä–æ—Ç–æ–∫–æ–ª.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** [`lib/src/cozmo_client.dart`](lib/src/cozmo_client.dart:17)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ (sliding window) –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç–∞–π–º–∞—É—Ç (RTO)

### CozmoAudio

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** [`lib/src/cozmo_audio.dart`](lib/src/cozmo_audio.dart:10)

**–§—É–Ω–∫—Ü–∏–∏:**
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ WAV —Ñ–∞–π–ª–æ–≤
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PCM –¥–∞–Ω–Ω—ã—Ö
- u-law –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Cozmo

### CozmoAnimController

–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –∞—É–¥–∏–æ.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** [`lib/src/cozmo_anim_controller.dart`](lib/src/cozmo_anim_controller.dart:8)

**–†–µ–∞–ª–∏–∑—É–µ—Ç Audio Takeover Pattern:**
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º "–∞—É–¥–∏–æ –∑–∞–Ω—è—Ç/—Å–≤–æ–±–æ–¥–µ–Ω"
- –û–±–Ω–æ–≤–ª—è–µ—Ç —ç–∫—Ä–∞–Ω –¥–∞–∂–µ –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏–æ
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç silence –ø–∞–∫–µ—Ç—ã –∫–æ–≥–¥–∞ –∞—É–¥–∏–æ –Ω–µ –∏–≥—Ä–∞–µ—Ç

### RealtimeAI

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI Realtime API –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

**–î–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. **WebRTC**: [`lib/src/realtime_ai.dart`](lib/src/realtime_ai.dart:11)
2. **WebSocket**: [`lib/src/realtime_ai_websocket.dart`](lib/src/realtime_ai_websocket.dart:16)

## üéÆ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FlutterFlow

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–∞–±–æ—Ä–æ–º –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è FlutterFlow:

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π

```
lib/custom_code/actions/
‚îú‚îÄ‚îÄ connect_cozmo.dart        # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ–±–æ—Ç—É
‚îú‚îÄ‚îÄ disconnect_cozmo.dart     # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ play_sound.dart           # –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞
‚îú‚îÄ‚îÄ robot_head_angle.dart     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–π
‚îú‚îÄ‚îÄ robot_lift_height.dart    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—ä–µ–º–Ω–∏–∫–æ–º
‚îú‚îÄ‚îÄ robot_drive_wheels.dart  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞–º–∏
‚îú‚îÄ‚îÄ robot_turn_left.dart      # –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ
‚îú‚îÄ‚îÄ robot_turn_right.dart     # –ü–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ
‚îî‚îÄ‚îÄ ...
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ FlutterFlow

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ –¥–µ–π—Å—Ç–≤–∏–∏:
```dart
import 'package:cozmo_dart_lib/cozmo_dart_lib.dart';
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞:
```dart
final robot = CozmoRobot.instance;
final error = await robot.connect();
```

## üéµ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞—É–¥–∏–æ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ WAV —Ñ–∞–π–ª–∞–º

- **–§–æ—Ä–º–∞—Ç:** WAV (RIFF)
- **–ö–æ–¥–µ–∫:** 16-bit PCM
- **–ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏:** 22.05 kHz (22050 Hz)
- **–ö–∞–Ω–∞–ª—ã:** Mono (1 –∫–∞–Ω–∞–ª)

### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ FFmpeg

```bash
ffmpeg -i input.mp3 -ar 22050 -ac 1 -acodec pcm_s16le output.wav
```

## üñºÔ∏è –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

### –§–æ—Ä–º–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** 128x32 –ø–∏–∫—Å–µ–ª—è
- **–¶–≤–µ—Ç–∞:** 1-bit (—á–µ—Ä–Ω—ã–π/–±–µ–ª—ã–π)
- **–°–∂–∞—Ç–∏–µ:** RLE (Run-Length Encoding)

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```dart
// –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
final image = CozmoSimpleImage();

// –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ (–≥–ª–∞–∑–∞)
image.drawRect(35, 8, 55, 16);  // –õ–µ–≤—ã–π –≥–ª–∞–∑
image.drawRect(73, 8, 93, 16);  // –ü—Ä–∞–≤—ã–π –≥–ª–∞–∑

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ä–æ–±–æ—Ç–µ
robot.displayImage(image);
```

## ü§ñ –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–≤–∏–∂–µ–Ω–∏–µ

```dart
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞–º–∏
await robot.drive.wheels(lWheelSpeed: 50, rWheelSpeed: 50, duration: 1000);

// –ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ –º–µ—Å—Ç–µ
await robot.drive.turnInPlace(angle: 90, speed: 30);

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –¥–≤–∏–∂–∏—Ç–µ–ª–µ–π
await robot.drive.stopAll();
```

### –ü–æ–¥—ä–µ–º–Ω–∏–∫

```dart
// –ü–æ–¥—ä–µ–º –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞
await robot.lift.setHeight(92.0);  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞

// –û–ø—É—Å–∫–∞–Ω–∏–µ –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞
await robot.lift.setHeight(32.0);  // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞
```

### –ì–æ–ª–æ–≤–∞

```dart
// –ü–æ–≤–æ—Ä–æ—Ç –≥–æ–ª–æ–≤—ã –≤–≤–µ—Ä—Ö
await robot.head.setAngle(0.5);

// –ü–æ–≤–æ—Ä–æ—Ç –≥–æ–ª–æ–≤—ã –≤–Ω–∏–∑
await robot.head.setAngle(-0.4);

// –ü–æ–ª–æ–∂–µ–Ω–∏–µ "–ø—Ä—è–º–æ"
await robot.head.setAngle(0.0);
```

## üé≠ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç–º–æ—Ü–∏–∏

### –≠–º–æ—Ü–∏–∏

```dart
// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —ç–º–æ—Ü–∏–∏
await robot.playEmotion(CozmoEmotion.happy);
await robot.playEmotion(CozmoEmotion.sad);
await robot.playEmotion(CozmoEmotion.thinking);
```

### –ê–Ω–∏–º–∞—Ü–∏–∏

```dart
// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π
await robot.playAnimation(CozmoAnimation.wakeUp);
await robot.playAnimation(CozmoAnimation.dance);
await robot.playAnimation(CozmoAnimation.celebrate);
```

## üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ AI

### WebSocket —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```dart
final ai = RealtimeAIWebSocket.instance;
ai.apiKey = 'your-openai-api-key';
await ai.connect(80); // –ì—Ä–æ–º–∫–æ—Å—Ç—å 80%
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π

```dart
ai.onUserTranscript = (text) {
  print('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫–∞–∑–∞–ª: $text');
};

ai.onAiTranscript = (text) {
  print('AI –æ—Ç–≤–µ—Ç–∏–ª: $text');
};

ai.onError = (error) {
  print('–û—à–∏–±–∫–∞: $error');
};
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `print()` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```dart
// –í cozmo_client.dart –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
static const bool _DEBUG = true;
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

```dart
final robot = CozmoRobot.instance;
print('–ü–æ–¥–∫–ª—é—á–µ–Ω–æ: ${robot.isConnected}');
print('–í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–∞–∫–µ—Ç–∞: ${robot.lastPacketTime}');
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–∏

```dart
final client = CozmoClient.instance;
print('–î–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏: ${client.outboundQueueLength}');
print('–ü–∞–∫–µ—Ç–æ–≤ –≤ –ø–æ–ª–µ—Ç–µ: ${client.inflightPacketsCount}');
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°–µ—Ç–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞: 64 –ø–∞–∫–µ—Ç–∞ (~2 —Å–µ–∫—É–Ω–¥—ã –∞—É–¥–∏–æ)
- RTO: 10 –º—Å (–≤—Ä–µ–º—è —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ—Ä–µ–π–º–∞: 900 –±–∞–π—Ç

### –ê—É–¥–∏–æ –º–µ—Ç—Ä–∏–∫–∏

- –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏: 22050 Hz
- –°—ç–º–ø–ª–æ–≤ –≤ –ø–∞–∫–µ—Ç–µ: 744
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–∫–µ—Ç–∞: ~33.7 –º—Å

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í [`cozmo_client.dart`](lib/src/cozmo_client.dart:35-40):

```dart
static const int _WINDOW_SIZE = 64; 
static const int _RTO_MS = 10;
static const int _MAX_FRAME_PAYLOAD = 900;
```

### –ê—É–¥–∏–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í [`cozmo_utils.dart`](lib/src/cozmo_utils.dart:9-10):

```dart
const int AUDIO_PACKET_SAMPLES = 744;
const int COZMO_SAMPLE_RATE = 22050;
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd cozmo_dart_lib
flutter test
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```dart
// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
void main() async {
  final robot = CozmoRobot.instance;
  await robot.connect();
  
  // –¢–µ—Å—Ç –¥–≤–∏–∂–µ–Ω–∏—è
  await robot.head.setAngle(0.0);
  await Future.delayed(Duration(seconds: 1));
  await robot.head.setAngle(0.5);
  
  // –¢–µ—Å—Ç –∞—É–¥–∏–æ
  await robot.playAudio('/path/to/test.wav');
  
  await robot.disconnect();
}
```

## üìù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –í–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

- –°–ª–µ–¥—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—é dart
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ CHANGELOG.md –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –∫–æ–¥ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π—Ç–µ –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é.

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø–∞–ø–∫–µ `docs/`
2. –ü–æ–∏—â–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Issue —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**–í–µ—Ä—Å–∏—è:** 0.0.2  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-10  
**–ê–≤—Ç–æ—Ä—ã:** Cozmo Development Team